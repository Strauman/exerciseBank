%!TEX root = main.tex
\makeatletter

% This file contains the definition of the \isin macro
%:Â§ref
%:=\isin{haystack}{needle}{True}{False}
%: \meta{haystack} is a comma separated list of integers\\
%: \meta{needle} is an integer\\
%: Executes \meta{True} if \meta{needle} is found in \meta{haystack}
%: else executes \meta{False}
%:-
% #1: haystack
% #2: needle
% #3: action if found in list
% #4: action if not found in list
\gdef\isin#1#2#3#4{
  \def\needle{#2}
  \def\haystack{#1}
  \def\isFalse{0}
  \let\isInList = \isFalse
  \IfInteger{\needle}{}{\@latex@error{ISIN: Can't look for part problem that is not numeric!}{}\bye\stop}
  \IfInteger{\haystack}{
    \ifnum\haystack=\needle\relax
    #3
    \else
    #4
    \fi
  }{
  \foreach \pp in #1{
    \ifnum\pp=\needle\relax%
      \gdef\isInList{1}
      #3
    \fi
  }
  \if\isInList\isFalse
    #4
  \fi
  }
}


%\strif: Compare two strings
%\strif\stringA\stringB%
%TRUE
%\else
%FALSE
%\fi
\gdef\strif#1#2{%
\ifnum\pdfstrcmp{#1}{#2}=\z@\relax%
}
