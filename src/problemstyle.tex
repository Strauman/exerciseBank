%!TEX root = main.tex
\makeatletter
\def\ppLeading{0em}
\def\pMarginBelow{1em}
\def\pMarginAbove{1em}
\def\pMarginLeft{-1.5em}
\def\ppMargin{0em}
\def\solMargin{\dimexpr \ppMargin\relax}
\def\vsSize{1em}
\def\vs{\vspace{\vsSize}}

\newcounter{problemcounter}
\setcounter{problemcounter}{0}
\newcounter{partproblemcounter}

\At\VeryBeginProblem{
  \stepcounter{problemcounter}
  \setcounter{partproblemcounter}{1}
  \vspace*{\pMarginAbove}
  \begin{addmargin}{\pMarginLeft}
    {\normalfont\Large\bfseries\@tr{Problem}~\theproblemcounter}
  \end{addmargin}
  \vspace*{\pMarginBelow}
}
\At\BeginPartproblem{
	\vspace{\ppMargin}
	   \begin{addmargin}{\ppMargin}
		\hspace{-\ppLeading}\large{\textbf{(\theproblemcounter\alph{partproblemcounter})}}\normalsize
  \stepcounter{partproblemcounter}
}
\At\EndPartproblem{\hfill
\end{addmargin}\vspace*{0.5em}
}
\At\BeginSolution{
  \vspace*{1em}
  \begin{addmargin}{\solMargin}
  \hspace{-\ppLeading}\large{\textbf{\@tr{Solution}:}}\normalsize
}
\At\EndSolution{
  \end{addmargin}\vspace*{1em}
}
