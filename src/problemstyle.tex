%!TEX root = main.tex
% This file contains \At-commands that are responsible for formatting
% exercise headers and exercise-related styles.
\makeatletter
\def\ppLeading{4em}
\def\pMarginBelow{1em}
\def\pMarginAbove{1em}
\def\pMarginLeft{-1.5em}
\def\ppMargin{2em}
\def\ppPullback{3.5em}
\def\solMargin{\dimexpr \ppMargin+\ppMargin\relax}
\def\vsSize{1em}
\def\vs{\vspace{\vsSize}}
%:Â§count
%:\!docCounter{problemcounter}-counter holds the current problem number and
%:\!docCounter{partproblemcounter}-counter holds the current partproblem \!emph{number}.
%:-
\newcounter{problemcounter}
\setcounter{problemcounter}{0}
\newcounter{partproblemcounter}

\At\VeryBeginProblem{
  \stepcounter{problemcounter}
  \setcounter{partproblemcounter}{1}
  \vspace*{\pMarginAbove}
  \begin{addmargin}{\pMarginLeft}
    {\normalfont\Large\bfseries\@tr{Problem}~\theproblemcounter}
  \end{addmargin}
  \vspace*{\pMarginBelow}
}
\At\VeryBeginPartproblem{
	\vspace{\ppMargin}%
\stepcounter{partproblemcounter}%
	 % \begin{addmargin}{\ppMargin}%
% \large\hspace*{-\ppPullback}\textbf{(\theproblemcounter\alph{partproblemcounter})}\normalsize
\def\@pproblemHead{\textbf{(\theproblemcounter\alph{partproblemcounter})}}
\addtolength{\leftmargin}{-\ppMargin}
\begin{itemize}
  \item[\@pproblemHead]
}
\At\EndPartproblem{\hfill
\end{itemize}
\addtolength{\leftmargin}{\ppMargin}
}
\At\BeginSolution{
  \vspace*{1em}
  \begin{addmargin}{\solMargin}%
\hspace*{-\solMargin}\large{\textbf{\@tr{Solution}:}}\normalsize
}
\At\EndSolution{
  \end{addmargin}\vspace*{1em}
}
